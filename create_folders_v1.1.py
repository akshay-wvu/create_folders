#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Created on Thu Oct  12 16:03:48 2022

@author: akshay kakar
"""

# This program creates a new folder with current date as its name

from datetime import datetime
import time
import os


# final execution of directory/folder creation
# function for importing the folder name and location information
def create_todays_folder(initialized_folder_location, insert_folder_name,
                         insert_folder_1, insert_folder_2,
                         insert_folder_3, insert_folder_4,
                         insert_folder_5, insert_folder_6,
                         insert_folder_7, insert_folder_8,
                         insert_folder_9, insert_folder_9_1,
                         insert_folder_9_2):

    # create the directory/folder based on the set location and name in the main function
    os.mkdir(initialized_folder_location + insert_folder_name)
    main_folder = initialized_folder_location + insert_folder_name + "/"

    # Show main folder path
    print("Main folder:\n", main_folder, "\n")

    # sub-folders inside the main folder
    os.mkdir(main_folder + insert_folder_1)      # create folder_1
    os.mkdir(main_folder + insert_folder_2)      # create folder_2 
    os.mkdir(main_folder + insert_folder_3)      # create folder_3
    os.mkdir(main_folder + insert_folder_4)      # create folder_4
    os.mkdir(main_folder + insert_folder_5)      # create folder_5
    os.mkdir(main_folder + insert_folder_6)      # create folder_6
    os.mkdir(main_folder + insert_folder_7)      # create folder_7
    os.mkdir(main_folder + insert_folder_8)      # create folder_8
    os.mkdir(main_folder + insert_folder_9)      # create folder_9

    # sub-folders for Image Analysis folder
    folder_9_folder = main_folder + insert_folder_9 + "/"
    os.mkdir(folder_9_folder + insert_folder_9_1)     # create folder_9_1
    os.mkdir(folder_9_folder + insert_folder_9_2)     # create folder_9_2

    # Show sub-folder paths
    print("Sub-folders:\n", main_folder + insert_folder_1, "\n", main_folder + insert_folder_2, "\n",
          main_folder + insert_folder_3, "\n", main_folder + insert_folder_4, "\n",
          main_folder + insert_folder_5, "\n", main_folder + insert_folder_6, "\n",
          main_folder + insert_folder_7, "\n", main_folder + insert_folder_8, "\n",
          main_folder + insert_folder_9, "\n", folder_9_folder + insert_folder_9_1, "\n",
          folder_9_folder + insert_folder_9_2, "\n")

    print("Successful!\n")


# main function where all variables and values are initialized
def main():
    # get current date and time
    date_time = datetime.now()
    print("\nCurrent date and time: ", date_time)

    # initialize folder location (suited for Linux)
    #folder_location = "/home/akshay/Documents/"
    folder_location = "/workspaces/create_folders/"
    print("Folder location: ", folder_location, "\n")

    # initialize folder location (suited for Windows)
    """folder_location = "C:/Users/Akshay/Documents/"
    """

    # initialize folder's name to today's date in the format YYYYMMDD
    folder_name = date_time.strftime('%Y%m%d')

    # initialize names for other folders
    folder_1 = "folder_1"
    folder_2 = "folder_2"
    folder_3 = "folder_3"
    folder_4 = "folder_4"
    folder_5 = "folder_5"
    folder_6 = "folder_6"
    folder_7 = "folder_7"
    folder_8 = "folder_8"
    folder_9 = "folder_9"
    folder_9_1 = "folder_9_1"
    folder_9_2 = "folder_9_2"

    # call function to create today's folder
    create_todays_folder(folder_location, folder_name, folder_1,
                         folder_2, folder_3,
                         folder_4, folder_5,
                         folder_6, folder_7,
                         folder_8, folder_9,
                         folder_9_1, folder_9_2)


# checks if the main function is required to be executed
if __name__ == '__main__':
    # info to be displayed for user before the program runs or shows an error
    print("This is the main program, which runs only for the first time.")
    time.sleep(3)  # gives user 3 seconds to read

    print("It creates a new folder with current date as its name.")
    time.sleep(3)  # gives user 3 seconds to read

    print("If this folder already exists, you will see an ERROR below.\n")
    time.sleep(5)  # gives user 5 seconds to read error warning

    # ask user if they want to proceed
    go_ahead = input("Would you like to continue? (Y/n)\n")
    # capitalize user input to make the following if statement simpler
    capitalize_go_ahead = go_ahead.capitalize()

    if capitalize_go_ahead == "Y":
        main()
    else:
        print("Program exited.\n\nHave a good one!")
        exit()
